{% extends "layout.html" %}
{% block title %}{{ hostname }} info{% endblock %}

{% block inlinecss %}
path {
    stroke: steelblue;      /* the line colour for paths is steelblue */
    stroke-width: 2;      /* the line width for paths is 2 pixels */
    fill: none;         /* don't fill the area bounded by any path elements */
}

.axis path,
.axis line {
    fill: none;         /* don't fill areas bounded by the axis line */
    stroke: grey;       /* make the axis line grey */
    stroke-width: 1;      /* make the width of the axis lines 1 pixel */
    shape-rendering: crispEdges;/* make the edges sharp */
}

{% endblock %}

{% block body %}
<header>
  <h1>{{ hostname }} - {{ startDate }} to {{ endDate }}</h1>
</header>
<section id="daily-hits">
  <h2>Daily hits</h2>
  <div id="hits-graph" data-hostname="{{ hostname }}"></div>
  <table id="hits-data">
    {% for day in pageHitsPerDay %}
      <tr class="hits-data-day">
        <td class="hits-data-date">{{ day.date }}</td>
        <td class="hits-data-hits">{{ day.hits }}</td>
      </tr>
    {% endfor %}
  </table>
</section>

<section id="top-pages">
  <h2>Top Pages</h2>
  <table id="page-views">
    {% for page in pageHitsPerPage %}
      <tr>
        <td>{% if page.page == "__all" %}Total{% else %}<a href="{{ root_url }}/path{{ page.page }}">{{ page.page }}</a>{% endif %}</td>
        <td>{{ page.hits }}</td>
      </tr>
    {% endfor %}
  </table>
</section>

<section>
  <h2>Top referrers</h2>
  <table id="referrers">
    {% for referrer in referrers %}
      <tr>
        <td>{{ referrer.hostname }}</td>
        <td>{{ referrer.count }}</td>
      </tr>
    {% endfor %}
  </table>
</section>

<section>
  <h2>Navigation timing quartile values</h2>

  <div class="navigation-timing-graph" id="navigation-timing-1q-graph"></div>

  <table id="medians">
    {% for key, first_q_value in first_q %}
      {% set second_q_value = second_q[key] %}
      {% set third_q_value = third_q[key] %}
      <tr class="navigation-timing-row">
        <td class="navigation-timing-key">{{key}}</td>
        <td class="navigation-timing-first_q_value">{{first_q_value}}</td>
        <td class="navigation-timing-second_q_value">{{second_q_value}}</td>
        <td class="navigation-timing-third_q_value">{{third_q_value}}</td>
      </tr>
    {% endfor %}
  </table>
</section>

{% endblock %}

{% block footerjs %}
  {% for resource in resources %}<script src="{{ resource }}"></script>
  {% endfor %}
{% endblock %}


